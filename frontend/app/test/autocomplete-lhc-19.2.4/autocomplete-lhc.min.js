var Def;(()=>{var t={612:t=>{t.exports=function(t){t.FieldAlarms.soundData_="data:audio/mp3;base64,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qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/44LE/wAAA0gAAAAAqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuOTKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"}},736:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}if(void 0===i)var i={};t.exports=function(t,i){"use strict";var s=i.PrototypeAPI.Browser,o=!!window.attachEvent&&!s.isOpera||"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Trident")>=0,n=i.jqueryLite.ui.keyCode;i.Autocompleter={isIE:o,currentAutoCompField_:-1,USE_STATISTICS:2,NO_COMPLETION_SUGGESTIONS:0,SUGGEST_SHORTEST:1,LIST_ITEM_FIELD_SEP:" - ",screenReaderLog_:new i.ScreenReaderLog,setOptions:function(t){Object.assign(this,t)},getFieldVal:function(t){return t.value},setFieldVal:function(t,e,s){var o;t.autocomp?t.autocomp.setFieldVal(e,s):(void 0===s&&(s=!0),s&&(o=this.getFieldVal(t)),t.value=e,s&&o!==e&&i.Event.simulate(t,"change"))},getFieldLookupKey:i.Observable.lookupKey,lookupFields:function(t){for(var e=[],i=0,s=document.forms.length;i<s;++i){var o=document.forms[i].elements[t];void 0!==o&&e.push(o)}return e},findRelatedFields:function(t,e){return this.lookupFields(e)},getFieldLabel:function(t){return null},listItemElementContainer:function(){var t=document.querySelector("#completionOptions").firstChild;return t&&"TABLE"===t.tagName&&(t=t.tBodies[0]),t},listItemElements:function(){var t=null,e=this.listItemElementContainer();return e&&(t=e.childNodes),t},setOffAlarm:function(t){i.FieldAlarms.setOffAlarm(t)},cancelAlarm:function(t){i.FieldAlarms.cancelAlarm(t)},stopEvent:function(t){t.stopImmediatePropagation(),t.preventDefault()},screenReaderLog:function(t){i.Autocompleter.screenReaderLog_.add(t)},createDOMCache:function(t,e){var i={data:{},get:function(t){var e=this.data[t];return void 0===e&&(e=this.data[t]=this.refresh[t].apply(this)),e},set:function(t,e){this.data[t]=e},invalidate:function(t){t?delete this.data[t]:this.data={}},refresh:{}};return Object.assign(i,t),Object.assign(i.refresh,e),i}},i.Autocompleter.Base=function(){},Object.assign(i.Autocompleter.Base,{MAX_ITEMS_BELOW_FIELD:7,classInit_:!1,classInit:function(){this.classInit_||(document.body.insertAdjacentHTML("beforeend",'<div id="searchResults" class="form_auto_complete">              <div id="completionOptionsScroller">             <span class="auto_complete" id="completionOptions"></span>              </div>              <div id="moreResults">See more items (Ctl Ret)</div>              <div id="searchCount">Search Results\x3c!-- place holder for result count,               needed for height calculation--\x3e</div>              <div id="searchHint">Search Hint\x3c!--place holder--\x3e</div>              </div>'),document.querySelector("#moreResults").addEventListener("mousedown",(function(e){var s=t(i.Autocompleter.currentAutoCompField_);s.autocomp.handleSeeMoreItems(e),i.Autocompleter.Event.notifyObservers(s,"LIST_EXP",{list_expansion_method:"clicked"})})),document.querySelector("#completionOptionsScroller").addEventListener("mousedown",function(e){if(i.Autocompleter.isIE&&"completionOptionsScroller"===e.target.id&&(i.Autocompleter.stopEvent(e),i.Autocompleter.completionOptionsScrollerClicked_=!0,-1!=t(i.Autocompleter.currentAutoCompField_))){var s=t(i.Autocompleter.currentAutoCompField_);setTimeout((function(){s.focus()}))}}.bind(this)),this.classInit_=!0)},noCaseSort:function(t,e){var i=t.toLowerCase(),s=e.toLowerCase();return i>s?1:i<s?-1:0},escapeAttribute:i.PrototypeAPI.escapeAttribute,unescapeAttribute:function(t){return t.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}}),i.Autocompleter.sharedDOMCache=i.Autocompleter.createDOMCache({},{spacerDiv:function(){var e=t("spacer");return e||((e=document.createElement("div")).setAttribute("id","spacer"),document.body.appendChild(e)),e},listContainer:function(){return t("searchResults")},firstEntryWidth:function(){return i.Autocompleter.listItemElements()[0].offsetWidth},listBoundingRect:function(){return this.get("listContainer").getBoundingClientRect()},viewPortWidth:function(){return document.documentElement.clientWidth},spacerCoords:function(){return this.get("spacerDiv").getBoundingClientRect()}});var r={constructorOpts_:null,scoreField_:null,scoreFieldInitialized_:!1,itemToDataIndex_:null,selectedCodes_:null,selectedItems_:null,selectedItemData_:null,matchListValue_:null,invalidStatus_:!1,matchStatus_:!0,focusInProgress_:!1,refocusInProgress_:!1,listBelowField_:!0,listContainer:null,recDataRequester_:null,enabled_:!0,preFieldFillVal_:null,fieldValIsListVal_:null,indexToHeadingLevel_:{},suggestionMode_:i.Autocompleter.SUGGEST_SHORTEST,lastScrollEffect_:null,multiSelect_:!1,listExtraData_:null,processedFieldVal_:null,defAutocompleterBaseInit:function(e,s){s||(s={}),s.wordBoundaryChars&&(s.tokens=s.wordBoundaryChars),void 0!==s.suggestionMode&&(this.suggestionMode_=s.suggestionMode),this.twoColumnFlow_=s.twoColumnFlow,void 0===this.twoColumnFlow_&&(this.twoColumnFlow_=!0),this.caseInsenstiveSelection_=s.caseInsenstiveSelection,void 0===this.caseInsenstiveSelection_&&(this.caseInsenstiveSelection_=!0),s.tokens||void 0===s.maxSelect?s.maxSelect=1:"*"===s.maxSelect&&(s.maxSelect=1/0),this.multiSelect_=1!==s.maxSelect,void 0!==s.scrolledContainer?this.scrolledContainer_=s.scrolledContainer:this.scrolledContainer_=document.documentElement,void 0===(this.nonMatchSuggestions_=s.nonMatchSuggestions)&&(this.nonMatchSuggestions_=!1),this.constructorOpts_=s,this.initStoredSelectionData();var o=s.dataRequester;if(i.Autocompleter.Base.classInit_||i.Autocompleter.Base.classInit(),this.matchListValue_=s.matchListValue||!1,this.recDataRequester_=o,this.update=t("completionOptions"),this.options=s,this.options.frequency=this.options.frequency||.01,this.options.minChars=this.options.minChars||1,this.element="string"==typeof e?t(e):e,!this.element)throw"string"==typeof e?new Error("Could not find the field with id '"+e+'"'):new Error("The autocompleter constructor requires an field element or an ID");if(this.ensureNeededAttrs(),this.hasFocus=!1,this.changed=!1,this.active=!1,this.index=0,this.entryCount=0,this.observer=null,this.element.setAttribute("autocomplete","off"),this.update.style.display="none;",this.elementEventListeners={},this.addEventListenerToElement("blur",this.onBlur.bind(this)),this.addEventListenerToElement("keydown",this.onKeyPress.bind(this)),this.options.tokens&&this.addEventListenerToElement("click",function(){this.tokenBounds=null,this.getTokenBounds(this.element.selectionStart)}.bind(this)),s.maxSelect>1){var n=document.createElement("span");n.classList.add("autocomp_selected"),this.element.parentNode.replaceChild(n,this.element),n.appendChild(document.createElement("ul")),n.appendChild(this.element),this.selectedList=n.firstChild}this.element.setAttribute("role","combobox"),this.element.setAttribute("aria-expanded","false"),this.onMouseDownListener=this.onMouseDown.bind(this),this.addEventListenerToElement("change",this.onChange.bind(this)),this.addEventListenerToElement("keypress",this.changeToFieldByKeys.bind(this));var r=function(){this.typedSinceLastFocus_=!0}.bind(this);this.addEventListenerToElement("paste",r),this.addEventListenerToElement("cut",r),this.listContainer=i.Autocompleter.sharedDOMCache.get("listContainer"),this.options.showList=this.showList.bind(this),this.options.hideList=this.hideList.bind(this),this.options.posAnsList=this.posAnsList.bind(this),this.update.style.display="block",this.element.autocomp=this,this.index=-1,this.initDOMCache(),this.oldElementValue=this.domCache.get("elemVal")},setFieldVal:function(t,e){var s;void 0===e&&(e=!0),e&&(s=this.domCache.get("elemVal")),this.domCache.set("elemVal",this.element.value=this.oldElementValue=t),this.tokenBounds=null,e&&s!==t&&i.Event.simulate(this.element,"change")},ensureNeededAttrs:function(){var t=this.element;""===t.id&&(i.Autocompleter.lastGeneratedID_||(i.Autocompleter.lastGeneratedID_=0),t.id="ac"+ ++i.Autocompleter.lastGeneratedID_)},initStoredSelectionData:function(){this.selectedCodes_={},this.selectedItems_={},this.selectedItemData_=[]},clearStoredSelection:function(){this.initStoredSelectionData(),this.multiSelect_&&(this.selectedList.innerHTML="")},dupDataReqForField:function(t){var e=null;return this.recDataRequester_&&(e=this.recDataRequester_.dupForField(t)),e},getSelectedCodes:function(){for(var t=this.getSelectedItems(),e=[],i=0,s=t.length;i<s;++i)e.push(this.selectedCodes_[t[i]]);return e},getSelectedItems:function(){return Object.keys(this.selectedItems_)},getSelectedItemData:function(){return this.selectedItemData_.length>0?this.selectedItemData_:null},storeSelectedItem:function(t,e){if(void 0===t&&(t=this.domCache.get("elemVal"),e=this.getItemCode(t)),this.multiSelect_||this.clearStoredSelection(),t){var i,s=null!=e;s&&(this.selectedCodes_[t]=e),this.selectedItems_[t]=1,this.getItemData?i=this.getItemData(t):(i={text:t},s&&(i.code=e)),this.selectedItemData_.push(i)}},getItemCode:function(t){this.itemToDataIndex_||this.initItemToDataIndex();var e=this.itemToDataIndex_[t],i=null;return void 0!==e&&this.itemCodes_&&(i=this.itemCodes_[e]),i},addToSelectedArea:function(t){var e=i.Autocompleter.Base.escapeAttribute(t),s='<li><button type="button" aria-label="&quot;'+e+'&quot; item remove"><span aria-hidden="true">&times;</span></button>'+e+"</li>";return this.selectedList.insertAdjacentHTML("beforeend",s),this.selectedList.lastChild.childNodes[0].addEventListener("click",this.removeSelection.bind(this)),e},moveEntryToSelectedArea:function(){var t=this.addToSelectedArea(this.domCache.get("elemVal"));if(this.setFieldVal(this.processedFieldVal_="",!1),i.Autocompleter.screenReaderLog("Selected "+t),this.index>=0){var e=i.Autocompleter.listItemElementContainer();e.removeChild(this.getCurrentEntry()),--this.entryCount;for(var s=e.childNodes,o=this.index,n=s.length;o<n;++o)s[o].autocompleteIndex=o;if(this.index==this.entryCount&&--this.index,this.numHeadings_){for(var r=this.index;this.index<this.entryCount&&this.liIsHeading(this.getCurrentEntry());)++this.index;if(this.index==this.entryCount)for(this.index=r-1;this.index>0&&this.liIsHeading(this.getCurrentEntry());)--this.index}this.render()}this.active=!0,this.hasFocus=!0,this.posAnsList()},removeSelection:function(t){var e=t.target.parentNode;"SPAN"===t.target.tagName&&(e=e.parentNode),e.parentNode.removeChild(e);var s=e.childNodes[1].textContent;delete this.selectedCodes_[s],delete this.selectedItems_[s];for(var o=0,n=this.selectedItemData_.length;o<n;++o)if(this.selectedItemData_[o].text===s){this.selectedItemData_.splice(o,1);break}this.listSelectionNotification(s,!0,!0),i.Autocompleter.screenReaderLog("Unselected "+s)},isSelected:function(t){return this.selectedItems_&&void 0!==this.selectedItems_[t]},getScoreField:function(){return this.scoreFieldInitialized_||(this.scoreField_=i.Autocompleter.getScoreField(this.element),this.scoreField_&&(this.scoreFieldInitialized_=!0)),this.scoreField_},changeToFieldByKeys:function(t){if(!this.typedSinceLastFocus_){var e=!1;void 0===t.which?e=!0:"number"==typeof t.which&&t.which>0&&(e=!t.ctrlKey&&!t.metaKey&&!t.altKey&&8!==t.which),this.typedSinceLastFocus_=e}},addObservers:function(t){t.addEventListener("mousedown",this.onMouseDownListener)},listItemValue:function(t){return this.options.tableFormat?t.getAttribute("data-fieldval"):t.textContent},markPrevious:function(){null===this.preFieldFillVal_&&(this.preFieldFillVal_=this.domCache.get("elemVal"));var t,e=this.index;-1===e&&(e=this.entryCount-1);do{this.index>0?this.index--:this.index=this.entryCount-1,t=this.getCurrentEntry();var s=this.listItemValue(t);this.itemTextIsHeading(s)&&(i.Autocompleter.screenReaderLog("Above list heading: "+s),t=null)}while(!t&&this.index!==e);t&&(this.scrollToShow(t,this.update.parentNode),this.updateElementAfterMarking(t))},markNext:function(){null===this.preFieldFillVal_&&(this.preFieldFillVal_=this.domCache.get("elemVal"));var t,e=this.index;-1===e&&(e=this.entryCount-1);do{this.index<this.entryCount-1?this.index++:this.index=0,t=this.getCurrentEntry();var s=this.listItemValue(t);this.itemTextIsHeading(s)&&(i.Autocompleter.screenReaderLog("Under list heading: "+s),t=null)}while(!t&&this.index!==e);t&&(this.scrollToShow(t,this.update.parentNode),this.updateElementAfterMarking(t))},updateElementAfterMarking:function(t){var e=this.tokenBounds;if(this.updateElement(t),this.options.tokens?(this.getTokenBounds(e&&e[0]),this.element.setSelectionRange(this.tokenBounds[0],this.tokenBounds[1])):this.element.select(),this.options.tableFormat){var s=[],o=t.querySelectorAll("td");if(o.length>1){for(var n=0,r=o.length;n<r;++n)s.push(o[n].innerText);i.Autocompleter.screenReaderLog(s.join("; "))}}},hideList:function(){i.Autocompleter.currentAutoCompField_===this.element.id&&("visible"!==this.listContainer.style.visibility||(this.listContainer.style.visibility="hidden",this.listShowing=!1,this.listContainer.setAttribute("aria-hidden","true"),this.element.setAttribute("aria-expanded","false"),window.removeEventListener("resize",this.windowResizeEventHandler)))},showList:function(){var t="visible"!==this.listContainer.style.visibility;this.listContainer.style.visibility="visible",this.listShowing=!0,this.listContainer.setAttribute("aria-hidden","false"),this.element.setAttribute("aria-expanded","true"),t&&!this.temporaryHide_&&this.entryCount>0&&(i.Autocompleter.screenReaderLog("A list has appeared below the "+this.getFieldName()+"."),this.options.tableFormat&&this.options.colHeaders&&i.Autocompleter.screenReaderLog("The column headers on the multi-column list are "+this.options.colHeaders.join("; "))),this.windowResizeEventHandler=this.posAnsList.bind(this),window.addEventListener("resize",this.windowResizeEventHandler)},getFieldName:function(){if(void 0===this.fieldName_){var t=i.Autocompleter.getFieldLabel(this.element.id);this.fieldName_=null===t?"field":'field "'+t+'"'}return this.fieldName_},scrollToShow:function(t,e){if(t.offsetTop<e.scrollTop)e.scrollTop=t.offsetTop;else{var i=t.clientHeight,s=e.clientHeight;t.offsetTop+i-e.scrollTop>s&&(e.scrollTop=t.offsetTop+i-s)}},pageOptionsUpOrDown:function(t){var e,i=document.querySelector("#completionOptionsScroller"),s=i.clientHeight;if(t)i.scrollTop>0&&((e=i.scrollTop-s)<0&&(e=0),i.scrollTop=e);else{var o=document.querySelector("#completionOptions").clientHeight-s;o<0&&(o=0),i.scrollTop<o&&((e=i.scrollTop+s)>o&&(e=o),i.scrollTop=e)}},isSearchKey:function(t){return t.ctrlKey&&t.keyCode===n.ENTER},onKeyPress:function(t){if(this.enabled_){var e=t.keyCode,s=!0;if(this.fieldEventIsBigList(t))t.stopImmediatePropagation(),this.preFieldFillVal_&&this.setFieldVal(this.preFieldFillVal_,!1),this.handleSeeMoreItems(t),i.Autocompleter.Event.notifyObservers(this.element,"LIST_EXP",{list_expansion_method:"CtrlRet"});else{var o=n;switch(e){case o.ENTER:this.multiSelect_&&i.Autocompleter.stopEvent(t),this.handleDataEntry(t);break;case o.TAB:""!==this.domCache.get("elemVal")&&this.handleDataEntry(t);break;case o.ESCAPE:null!==this.preFieldFillVal_&&(this.setFieldVal(this.preFieldFillVal_,!1),i.Autocompleter.Event.notifyObservers(this.element,"CANCEL",{restored_value:this.preFieldFillVal_})),this.active&&(this.index=-1,this.hide(),this.active=!1);break;default:if(this.active)switch(e){case o.PAGE_UP:this.pageOptionsUpOrDown(!0);break;case o.PAGE_DOWN:this.pageOptionsUpOrDown(!1);break;default:if(t.ctrlKey)s=!1;else switch(e){case o.DOWN:case o.UP:e===o.UP?this.markPrevious():this.markNext(),this.render(),i.Autocompleter.stopEvent(t);break;case o.LEFT:case o.RIGHT:this.options.tokens&&(this.tokenBounds=null,this.getTokenBounds()),!t.ctrlKey&&this.index>=0&&this.update.classList.contains("multi_col")&&this.moveToOtherColumn(t);break;default:s=!1}}else s=!1}}s||t.ctrlKey&&86!==e||16===e||17===e||0===e||(this.preFieldFillVal_=null,this.changed=!0,this.hasFocus=!0,this.matchListItemsToField_=!0,this.observer&&clearTimeout(this.observer),this.observer=setTimeout(this.onObserverEvent.bind(this),1e3*this.options.frequency))}},setMatchStatusIndicator:function(t){t!==this.matchStatus_&&(t?this.element.classList.contains("no_match")&&(this.element.classList.remove("no_match"),i.Autocompleter.screenReaderLog("The field no longer contains a non-matching value.")):(this.element.classList.add("no_match"),i.Autocompleter.screenReaderLog("The field's value does not match any items in the list.")),this.matchStatus_=t)},setInvalidValIndicator:function(t){t?(i.Autocompleter.setOffAlarm(this.element),this.invalidStatus_||(this.element.classList.add("invalid"),this.element.setAttribute("invalid",!0))):this.invalidStatus_&&(this.element.classList.remove("invalid"),this.element.setAttribute("invalid",!1)),this.invalidStatus_=t},cancelInvalidValIndicator:function(){i.Autocompleter.cancelAlarm(this.element)},updateChoices:function(t,e){if(this.index=-1,!this.changed&&this.hasFocus){this.update.innerHTML=t;var s=this.update.firstChild;s&&s.tHead&&s.tHead.addEventListener("mousedown",(function(t){i.Autocompleter.stopEvent(t)}));var o=i.Autocompleter.listItemElements();if(o){var n;if(this.entryCount=o.length,this.suggestionMode_!==i.Autocompleter.NO_COMPLETION_SUGGESTIONS&&this.entryCount>0&&!this.focusInProgress_&&e){for(n=0;this.liIsHeading(o[n])&&n<this.entryCount;++n);this.index=n}for(n=0;n<this.entryCount;n++){var r=this.getEntry(n);r.autocompleteIndex=n,this.addObservers(r)}}else this.entryCount=0;1===this.entryCount&&this.options.autoSelect?(this.selectEntry(),this.hide()):this.render(),this.focusInProgress_||this.setMatchStatusIndicator(this.entryCount>0||""===this.trimmedElemVal)}},pickedByNumber:function(){return this.add_seqnum&&this.trimmedElemVal.match(/^\d+$/)},pickBestMatch:function(t){var e=this.trimmedElemVal.toLowerCase(),i=t.length,s=-1;if(e.length>0&&i>0){for(var o=-1,n=1/0,r=-1,a=n,l=-1,h=n,c=0;c<i;++c){var u=t[c];if(!this.itemTextIsHeading(u)){var d=u.toLowerCase(),p=(d=d.replace(/^\W+/,"")).indexOf(e),m=u.length;0===p?/(^\d+$)/.test(e)?(r=0,a=0):m<a&&(r=c,a=m):-1===r&&(p>0?m<h&&(l=c,h=m):-1===l&&m<n&&(n=m,o=c))}}s=r>-1?r:l>-1?l:o}return s},posAnsList:function(){this.posListBelowFieldInMultiCol(),this.index>0&&this.scrollToShow(this.getCurrentEntry(),t("completionOptionsScroller"))},posListBelowFieldInMultiCol:function(){var e=i.Autocompleter.sharedDOMCache,s=this.domCache.element,o=this.update;this.domCache.invalidate("elemPos"),e.invalidate("firstEntryWidth"),e.invalidate("listBoundingRect"),e.invalidate("viewPortWidth"),o.style.height&&(o.style.height=""),this.setListWrap(!1),o.style.width="auto",t("completionOptionsScroller").style.height="",this.listContainer.style.width="",this.listHeight=void 0;var n=this.listContainer;n.style.display="none";var r=this.domCache.get("elemPos");n.style.display="";var a=0,l=document.documentElement.style;/^-(\d+\.?\d*)px$/.test(l.top)&&(a=Number(RegExp.$1)),n.style.top=r.top+a+s.offsetHeight+"px";var h=this.scrolledContainer_,c=document.documentElement.clientHeight,u=c,d=(E=e.get("listBoundingRect")).bottom;if(d<=u)this.setListLeft();else{var p=this.twoColumnFlow_&&!this.options.tableFormat&&this.entryCount>4;if(p&&(p=this.setListWrap(!0))&&(d=e.get("listBoundingRect").bottom),p&&d<=u)this.setListLeft();else{var m=s.getBoundingClientRect(),q=void 0;if(!h||h===document.documentElement&&this.getFixedPositionedParent(s))q=window.innerHeight-m.bottom;else{this.lastScrollEffect_&&this.lastScrollEffect_.cancel();var f,A=d-u,g=m.top,v=0,_=this.constructorOpts_.headerBar;if(_){var y=document.getElementById(_);y&&(v=y.offsetHeight)}var S=h.getBoundingClientRect().top;A>(f=S>v?g-S:g-v)&&(A=f,q=c-m.height-v),d=void 0===q?e.get("listBoundingRect").bottom:e.get("listBoundingRect").top+q;var I=e.get("spacerCoords");d>I.bottom&&(e.get("spacerDiv").style.height=d-I.top+"px",e.invalidate("spacerCoords")),this.lastScrollEffect_=new i.Effect.Scroll(h,{y:A,duration:.4})}if(void 0!==q){this.setListHeight(q);var C=e.get("viewPortWidth"),E=e.get("listBoundingRect");e.listWrap&&E.width>C&&this.setListWrap(!1)}this.setListLeft()}}},getFixedPositionedParent:function(t){var e=t.offsetParent;return e?"fixed"===window.getComputedStyle(e).position?e:this.getFixedPositionedParent(e):null},initDOMCache:function(){var t=this,e=i.Autocompleter;this.domCache=e.createDOMCache({element:t.listPositioningElem()},{elemPos:function(){return i.jqueryLite.getElementOffset(this.element)},elemVal:function(){return e.getFieldVal(t.element)}})},listPositioningElem:function(){return this.multiSelect_?this.element.parentNode:this.element},setListWrap:function(t){var e=i.Autocompleter.sharedDOMCache;if(t!==e.listWrap){if(t){var s=2*e.get("firstEntryWidth")+4;s<=e.get("viewPortWidth")&&(this.listContainer.style.width=s+"px",this.update.classList.add("multi_col"),e.listWrap=!0)}else this.update.classList.remove("multi_col"),this.listContainer.style.width="",e.listWrap=!1,e.invalidate("viewPortWidth");e.invalidate("listBoundingRect"),this.domCache.invalidate("elemPos")}return e.listWrap},setListLeft:function(){var t=this.listContainer,e=i.Autocompleter.sharedDOMCache,s=e.get("viewPortWidth"),o=e.get("listBoundingRect"),n=this.domCache.get("elemPos"),r=o.width-(s-n.left);r<0&&(r=0);var a=n.left-r;a<0&&(a=0);var l=i.Autocompleter.sharedDOMCache;l.listPosLeft!==a&&(t.style.left=a+"px",l.listPosLeft=a)},setListHeight:function(e){var s=i.Autocompleter.sharedDOMCache,o=s.get("listBoundingRect");e=e-o.height+this.update.offsetHeight,this.listContainer.style.width=o.width+20+"px",e>=20&&(t("completionOptionsScroller").style.height=e+"px",s.invalidate("listBoundingRect"))},getToken:function(){var t=this.domCache.get("elemVal");if(this.options.tokens){var e=this.getTokenBounds();t=t.substring(e[0],e[1])}return t},getTokenBounds:function(t){if(null!=this.tokenBounds)return this.tokenBounds;var e=this.domCache.get("elemVal");if(""===e.trim())return[-1,0];for(var i,s=void 0!==t?t:this.element.selectionStart,o=s==this.oldElementValue.length?1:0,n=-1,r=e.length,a=0,l=this.options.tokens.length;a<l;++a)(i=e.lastIndexOf(this.options.tokens[a],s+o-1))>n&&(n=i),-1!=(i=e.indexOf(this.options.tokens[a],s+o))&&i<r&&(r=i);return this.tokenBounds=[n+1,r]},dupForField:function(t){throw"dupForField must be overridden by autocompleter subclasses."},initItemToDataIndex:function(){throw"initItemToDataIndex must be overridden by autocompleter classes that need it"},propagateFieldChanges:function(t){void 0===t&&(t=this.matchStatus_),this.recDataRequester_&&(t&&""!==this.domCache.get("elemVal").trim()?this.recDataRequester_.requestData():this.recDataRequester_.clearDataOutputFields())},getValTyped:function(){return null===this.preFieldFillVal_?this.domCache.get("elemVal"):this.preFieldFillVal_},listSelectionNotification:function(t,e,s){var o;void 0===s?s=!1:s&&(o=t,t=""),void 0===o&&(o=this.domCache.get("elemVal"));var n=this.clickSelectionInProgress_?"clicked":null===this.preFieldFillVal_?"typed":"arrows",r="typed"!==n&&e,a=this.getItemCode(o);i.Autocompleter.Event.notifyObservers(this.element,"LIST_SEL",{input_method:n,val_typed_in:t,final_val:o,used_list:r,list:this.rawList_,on_list:e,item_code:a,removed:s})},attemptSelection:function(){var t=!1,e=this.getValTyped();if(this.active){if(-1===this.index){for(var s=this.domCache.get("elemVal").trim(),o=s.toLowerCase(),n=-1,r=-1,a=0;a<this.entryCount&&n<0;++a){var l=this.getEntry(a),h=this.listItemValue(l);this.liIsHeading(l)||(s===h?n=a:this.caseInsenstiveSelection_&&r<0&&o===h.toLowerCase()&&(r=a))}n>=0?(this.index=n,t=!0):r>=0&&(this.index=r,t=!0)}else t=this.entryCount>0&&!this.liIsHeading(this.getCurrentEntry());this.fieldValIsListVal_=t,t&&(this.active=!1,this.updateElement(this.getCurrentEntry()),this.storeSelectedItem(),null!==i.Autocompleter.Event.callbacks_&&this.listSelectionNotification(e,!0),this.processedFieldVal_=i.Autocompleter.getFieldVal(this.element),this.setMatchStatusIndicator(!0),this.setInvalidValIndicator(!1),this.propagateFieldChanges(),this.multiSelect_&&this.moveEntryToSelectedArea()),this.multiSelect_||(this.active=!1,this.hide())}return t},selectEntry:function(){this.attemptSelection()},handleNonListEntry:function(){this.propagateFieldChanges(!1),this.multiSelect_||this.clearStoredSelection();var t=i.Autocompleter.getFieldVal(this.element);""===i.Autocompleter.getFieldVal(this.element)?(this.setMatchStatusIndicator(!0),this.setInvalidValIndicator(!1),this.storeSelectedItem(""),null!==i.Autocompleter.Event.callbacks_&&this.listSelectionNotification("",!1),this.processedFieldVal_=t):(this.enabled_&&this.setMatchStatusIndicator(!1),null!==i.Autocompleter.Event.callbacks_&&this.listSelectionNotification(this.getValTyped(),!1),this.matchListValue_?(i.Autocompleter.screenReaderLog("For this field your entry must match an item from the suggestion list."),this.setInvalidValIndicator(!0),this.refocusInProgress_=!0,this.processedFieldVal_=t,setTimeout(function(){this.element.focus(),this.element.select(),this.refocusInProgress_=!1}.bind(this))):(this.storeSelectedItem(),this.multiSelect_?this.moveEntryToSelectedArea():this.processedFieldVal_=t,this.findSuggestions&&this.nonMatchSuggestions_&&!this.multiSelect_&&setTimeout(function(){this.findSuggestions()}.bind(this))))},onChange:function(t){this.domCache.invalidate("elemVal"),i.Autocompleter.completionOptionsScrollerClicked_||this.handleDataEntry(t)},onBlur:function(t){i.Autocompleter.completionOptionsScrollerClicked_||(this.lastScrollEffect_&&this.lastScrollEffect_.cancel(),i.Autocompleter.getFieldVal(this.element)!==this.processedFieldVal_&&i.Event.simulate(this.element,"change"),this.enabled_&&!this.refocusInProgress_&&(this.hide(),document.activeElement===this.element&&(this._disableListItemClick=!0),this.hasFocus=!1,this.active=!1,this.invalidStatus_?this.clearInvalidFieldVal():""===i.Autocompleter.getFieldVal(this.element)?this.setMatchStatusIndicator(!0):!1===this.fieldValIsListVal_&&this.setMatchStatusIndicator(!1)))},clearInvalidFieldVal:function(){this.setFieldVal("",!1),this.setInvalidValIndicator(!1),this.setMatchStatusIndicator(!0),this.listSelectionNotification("",!1),this.processedFieldVal_=""},onFocus:function(t){if(i.Autocompleter.currentAutoCompField_=this.element.id,this.refocusInProgress_||(this.processedFieldVal_=i.Autocompleter.getFieldVal(this.element)),this.refocusInProgress_=!1,this.preFieldFillVal_=null,i.Autocompleter.Event.notifyObservers(this.element,"FOCUS",{start_val:this.processedFieldVal_}),this.multiSelect_){var e=Object.getOwnPropertyNames(this.selectedItems_);if(e.length>0){var s="Above this multi-select field are deselection buttons for each selected item.  Currently selected:"+e.join(", ");i.Autocompleter.screenReaderLog(s)}}},onMouseDown:function(t){if(!this._disableListItemClick){i.Autocompleter.stopEvent(t);for(var e=t.target;e&&void 0===e.autocompleteIndex;)e=e.parentNode;e&&!this.liIsHeading(e)&&(this.clickSelectionInProgress_=!0,this.index=e.autocompleteIndex,this.selectEntry(),this.hide(),this.clickSelectionInProgress_=!1,this.multiSelect_&&this.showList()),this.tokenBounds=null}},handleDataEntry:function(t){if(this.invalidStatus_&&this.processedFieldVal_===this.domCache.get("elemVal"))this.clearInvalidFieldVal();else{this.observer&&clearTimeout(this.observer);var e=i.Autocompleter.getFieldVal(this.element),s=!1;(this.processedFieldVal_!==e&&""!==e||this.multiSelect_&&""===e&&this.index>=0)&&(s=this.attemptSelection()),this.processedFieldVal_===e||s||(""===e&&(this.fieldValIsListVal_=!1),this.handleNonListEntry()),this.multiSelect_||(this.hide(),this.active=!1),!t.stopped&&this.matchListValue_&&this.invalidStatus_&&i.Autocompleter.stopEvent(t)}},itemTextIsHeading:function(t){var e=!!this.numHeadings_;if(e){this.itemToDataIndex_||this.initItemToDataIndex();var i=this.itemToDataIndex_[t];e=void 0!==i&&!!this.indexToHeadingLevel_[i]}return e},liIsHeading:function(t){var e=!!this.numHeadings_;return e&&(e=this.itemTextIsHeading(this.listItemValue(t))),e},onShow:function(t,e){t.autocomp.showList()},onHide:function(t,e){t.autocomp.hideList()},moveToOtherColumn:function(t){var e=i.Autocompleter.listItemElements().length,s=Math.floor(e/2),o=Math.ceil(e/2),n=this.index;if(this.index<s?n=this.index+o:this.index>=o&&(n=this.index-o),n!==this.index){var r=this.getEntry(n);this.liIsHeading(r)||(this.index=n,this.setFieldVal(this.listItemValue(r),!1),this.element.select(),this.render(),i.Autocompleter.stopEvent(t))}},handleSeeMoreItems:function(t){},readSearchCount:function(){var e=!1;return"none"!==t("searchCount").style.display&&(i.Autocompleter.screenReaderLog("Showing "+t("searchCount").innerHTML+"."),"none"!==t("moreResults").style.display&&i.Autocompleter.screenReaderLog("Pressing control+return will expand the list."),e=!0),e},destroy:function(){this.stopObservingEvents(),this.removeAutocompleteLhcClasses(),this.detachFromDOM()},addEventListenerToElement:function(t,e){var i;this.element.addEventListener(t,e),(i=this.elementEventListeners)[t]||(i[t]=[]),this.elementEventListeners[t].push(e)},stopObservingEvents:function(){for(var t=this,i=function(){var i,n,r=(i=o[s],n=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,o,n,r,a=[],l=!0,h=!1;try{if(n=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(s=n.call(i)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(t){h=!0,o=t}finally{try{if(!l&&null!=i.return&&(r=i.return(),Object(r)!==r))return}finally{if(h)throw o}}return a}}(i,n)||function(t,i){if(t){if("string"==typeof t)return e(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?e(t,i):void 0}}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0];r[1].forEach((function(e){t.element.removeEventListener(a,e)}),t)},s=0,o=Object.entries(this.elementEventListeners);s<o.length;s++)i();this.elementEventListeners={}},removeAutocompleteLhcClasses:function(){this.element.classList.remove("no_match","invalid","ansList","ac_multiple","search_field")},detachFromDOM:function(){if(this.multiSelect_){var t=this.element.parentNode;t.parentNode.replaceChild(this.element,t),this.selectedList=null}this.element.autocomp=null,this.element=null,this.update=null,this.listContainer=null,this.recDataRequester_=null},updateElement:function(t){var e=this.listItemValue(t),i=e;if(this.options.tokens){var s=this.getTokenBounds();if(-1!=s[0]){var o=this.domCache.get("elemVal"),n=o.substr(0,s[0]),r=o.substr(s[0]).match(/^\s+/);r&&(n+=r[0]),i=n+e+o.substr(s[1])}}this.setFieldVal(i,!1),this.options.afterUpdateElement&&this.options.afterUpdateElement(this.element,t)},show:function(){"none"==getComputedStyle(this.update).display&&this.options.onShow(this.element,this.update),!this.iefix&&s.IE&&"absolute"==getComputedStyle(this.update).position&&(new Insertion.After(this.update,'<iframe id="'+this.update.id+'_iefix" style="display:none;position:absolute;filter:progid:DXImageTransform.Microsoft.Alpha(opacity=0);" src="javascript:false;" frameborder="0" scrolling="no"></iframe>'),this.iefix=t(this.update.id+"_iefix")),this.iefix&&setTimeout(this.fixIEOverlapping.bind(this),50)},fixIEOverlapping:function(){var t=i.jqueryLite.getElementOffset(this.update);this.iefix.style.left=t.left,this.update.style.height||(this.update.style.top=t.top),this.iefix.style.zIndex=1,this.update.style.zIndex=2,this.iefix.style.display=""},hide:function(){"none"!=getComputedStyle(this.update).display&&this.options.onHide(this.element,this.update),this.iefix&&(this.iefix.style.display="none")},render:function(){if(this.entryCount>0){for(var t=0;t<this.entryCount;t++)this.index==t?this.getEntry(t).classList.add("selected"):this.getEntry(t).classList.remove("selected");this.hasFocus&&(this.show(),this.active=!0)}else this.active=!1,this.hide()},getEntry:function(t){return i.Autocompleter.listItemElements()[t]},getCurrentEntry:function(){return this.getEntry(this.index)},onObserverEvent:function(){var t;this.domCache.invalidate("elemVal"),this.changed=!1,this.tokenBounds=null,this.getToken().length>=this.options.minChars?this.getUpdatedChoices():(this.active=!1,this.hide(),null===(t=this.progressElement)||void 0===t||t.classList.remove("show")),this.oldElementValue=this.domCache.get("elemVal")}};Object.assign(i.Autocompleter.Base.prototype,r),r=null}},800:t=>{t.exports=function(t,e){"use strict";e.Autocompleter.Event={observeListExpansions:function(t,e){return this.storeCallback(t,"LIST_EXP",e)},observeListSelections:function(t,e){return this.storeCallback(t,"LIST_SEL",e)},observeFocusEvents:function(t,e){return this.storeCallback(t,"FOCUS",e)},observeCancelList:function(t,e){return this.storeCallback(t,"CANCEL",e)},observeSuggestions:function(t,e){return this.storeCallback(t,"SUGGESTIONS",e)},observeSuggestionUsed:function(t,e){return this.storeCallback(t,"SUGGESTION_USED",e)},observeListAssignments:function(t,e){return this.storeCallback(t,"LIST_ASSIGNMENT",e)},observeRDRClearing:function(t){return this.storeCallback(null,"RDR_CLEARING",t)},observeRDRAssignment:function(t){return this.storeCallback(null,"RDR_ASSIGNMENT",t)}},Object.assign(e.Autocompleter.Event,e.Observable)}},880:t=>{t.exports=function(t,e){"use strict";var i=e.PrototypeAPI.Class,s=(e.PrototypeAPI.Browser,e.jqueryLite.ui.keyCode);e.Autocompleter.Prefetch=i.create(),e.Autocompleter.Prefetch.constructor=e.Autocompleter.Prefetch,Object.assign(e.Autocompleter.Prefetch.prototype,e.Autocompleter.Base.prototype),e.Autocompleter.Prefetch.prototype.className="Def.Autocompleter.Prefetch";var o={SEQ_NUM_PREFIX:'<span class="listNum">',SEQ_NUM_SEPARATOR:":</span>&nbsp; ",validationFailed_:!1,listIsOriginal_:!0,rawList_:null,itemCodes_:null,listLoadAttempted_:!1,seeMoreItemsClicked_:!1,matchListItemsToField_:!1,defaultSelectionIndex_:null,autoFill_:!0,initialize:function(t,i,s){var o=(s=Object.assign({ignoreCase:!0,fullSearch:!1,selector:this.selector,getFormattedItemText:this.getFormattedItemText,onShow:this.onShow,onHide:this.onHide},s||{})).addSeqNum;this.add_seqnum=void 0===o||o;var n=s.autoFill;void 0!==n&&(this.autoFill_=n),e.Autocompleter.Base.classInit_||e.Autocompleter.Base.classInit(),this.initHeadings(s),this.defAutocompleterBaseInit(t,s),this.addEventListenerToElement("focus",this.onFocus.bind(this)),this.addEventListenerToElement("click",this.onFieldClick.bind(this));var r=s.codes;this.setList(i,r),this.listIsOriginal_=!0,this.originalCodes_=r,this.options.minChars=0,this.splitAutocomp_=!1,this.element.classList.add("ansList")},getUpdatedChoices:function(){this.trimmedElemVal=this.domCache.get("elemVal").trim(),this.updateChoices(this.options.selector(this),this.pickedByNumber())},dupItemToDataIndex:function(t){this.listIsOriginal_&&(this.itemToDataIndex_||this.initItemToDataIndex(),t.itemToDataIndex_=this.itemToDataIndex_)},dupForField:function(t){var i=this.dupDataReqForField(t),s={};Object.assign(!0,s,this.constructorOpts_),s.dataRequester=i;var o=new e.Autocompleter.Prefetch(t,this.rawList_,s);return this.dupItemToDataIndex(o),o},initHeadings:function(t){var e=t.codes,i=t.itemToHeading;if(i){t.itemToHeading=null;for(var s={},o={},n=0,r=e.length;n<r;++n){var a=i[e[n]];if(a){var l=s[a];if(!l){var h=i[a];l=h?s[h]+1:1,s[a]=l}}}for(n=0,r=e.length;n<r;++n)l=s[e[n]],o[n]=l||0;this.indexToHeadingLevel_=o,t.indexToHeadingLevel=o,this.numHeadings_=Object.keys(s).length,t.numHeadings=this.numHeadings_}else t.indexToHeadingLevel&&(this.indexToHeadingLevel_=t.indexToHeadingLevel,this.numHeadings_=t.numHeadings)},initItemToDataIndex:function(){if(this.itemToDataIndex_={},this.rawList_)for(var t=0,e=this.rawList_.length;t<e;++t)this.itemToDataIndex_[this.rawList_[t]]=t},selector:function(i){var s=i.getToken(),o=0,n=null,r=!i.matchListItemsToField_||""===i.domCache.get("elemVal").trim(),a=i.seeMoreItemsClicked_?1/0:2*e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD,l=r&&!i.seeMoreItemsClicked_?Math.floor(a/i.numHeadings_):1/0;l<1&&(l=1);var h=0,c=[],u=[],d={},p=null,m=!1,q=0,f=0,A=0,g=e.Autocompleter.Base.escapeAttribute;i.options.ignoreCase&&(s=s.toLowerCase());for(var v=i.options.formattedListItems,_=0,y=i.rawList_.length;_<y;++_){var S=!1;if(i.indexToHeadingLevel_[_])p=i.rawList_[_],m=!1,++q;else{var I=null,C=i.rawList_[_];r&&(++o,I=g(C),v&&(I+=v[_]));var E=null,L=!1,b=!1;if(i.add_seqnum&&(S=(E=_+1-q+"")===s,r||!S&&0!==E.indexOf(s)||(++o,b=!0,(S||o<=a)&&(E="<strong>"+E.substr(0,s.length)+"</strong>"+E.substr(s.length),L=!0,I=i.SEQ_NUM_PREFIX+E+i.SEQ_NUM_SEPARATOR+g(C),v&&(I+=v[_])))),!b&&!r){var F=!1,T=C;i.options.ignoreCase&&(T=C.toLowerCase());for(var w=T.indexOf(s);!F&&-1!==w;)0===w?(F=!0,++o<=a&&(I="<strong>"+g(C.substr(0,s.length))+"</strong>"+g(C.substr(s.length)),v&&(I+=v[_]))):(i.options.fullSearch||/(.\b|_)./.test(T.substr(w-1,2)))&&(F=!0,++o<=a&&(I=g(C.substr(0,w))+"<strong>"+g(C.substr(w,s.length))+"</strong>"+g(C.substr(w+s.length)),v&&(I+=v[_]))),F||(w=T.indexOf(s,w+1))}var O=!1;i.multiSelect_&&(O=i.isSelected(C))&&++A,!O&&I&&(S||o<=a||i.numHeadings_>0&&r)&&(p&&!m&&(m=!0,c.push(p),u.push(_-1),++f,d[p]=[g(p),"heading"],h=0),(!r||!i.numHeadings_||h<l||S)&&(!L&&i.add_seqnum&&(I=i.SEQ_NUM_PREFIX+E+i.SEQ_NUM_SEPARATOR+I),c.push(C),u.push(_),S&&(n=c.length-1),d[C]=[I],r&&++h))}}var D=c.length-f;return o>D+A?(t("searchCount").innerHTML=D+" of "+o+" items total",t("moreResults").style.display="block",t("searchCount").style.display="block"):(t("moreResults").style.display="none",t("searchCount").style.display="none"),i.buildHTML(c,u,d,n)},buildHTML:function(t,i,s,o){var n,r=-1,a=null!==o;if(!this.numHeadings_&&this.matchListItemsToField_&&(a||this.suggestionMode_===e.Autocompleter.SUGGEST_SHORTEST)&&(r=a?o:this.pickBestMatch(t))>=0){var l=t[r],h=i[r];for(n=r;n>0;--n)t[n]=t[n-1],i[n]=i[n-1];t[0]=l,i[0]=h}var c="<ul>";n=0,r>=0&&(c+='<li class="suggestion" autocompRawListIndex="'+i[0]+'">'+s[l][0]+"</li>",++n);for(var u=t.length;n<u;++n){var d=s[t[n]],p=d[1];c+=p?'<li class="'+p+'" autocompRawListIndex="'+i[n]+'">'+d[0]+"</li>":'<li autocompRawListIndex="'+i[n]+'">'+d[0]+"</li>"}return c+"</ul>"},setList:function(t,i){this.listIsOriginal_=!1;var s=t.length;this.rawList_=new Array(s);for(var o=0,n=t.length;o<n;++o)this.rawList_[o]=t[o].trim();for(var r=new Array(s),a=e.Autocompleter.Base.escapeAttribute,l=0;l<s;++l)r[l]=a(this.rawList_[l]),!0!==this.add_seqnum||this.indexToHeadingLevel_[l]||(r[l]=this.SEQ_NUM_PREFIX+(l+1)+this.SEQ_NUM_SEPARATOR+r[l]);this.options.array=r,this.itemCodes_=i,this.itemToDataIndex_=null,this.enabled_=t.length>0,t.length>1||!this.autoFill_?this.element.classList.add("ac_multiple"):this.element.classList.remove("ac_multiple"),(this.hasFocus||document.activeElement===this.element)&&this.onFocus()},setFieldToListValue:function(t){this.setFieldVal(t,!1),this.fieldValIsListVal_=!0,this.storeSelectedItem(),this.processedFieldVal_=t,this.listSelectionNotification("",!0),this.setMatchStatusIndicator(!0),this.setInvalidValIndicator(!1),this.propagateFieldChanges()},setListAndField:function(t,i,s,o){void 0===s&&(s=!1),void 0===o&&(o=!1),this.setList(t,i),e.Autocompleter.Event.notifyObservers(this.element,"LIST_ASSIGNMENT",{});var n,r=this.domCache.get("elemVal"),a=t.length;!1===s&&(n=this.autoFill_&&(1===a||a>1&&o)?this.assembleValue(t[0]):""),s||r===n||this.setFieldToListValue(n),this.setInvalidValIndicator(!1),this.setMatchStatusIndicator(!0),this.options.afterUpdateElement&&this.options.afterUpdateElement()},assembleValue:function(t){return t.trim()},onObserverEvent:function(){this.temporaryHide_=!0,this.hideList(),e.Autocompleter.Base.prototype.onObserverEvent.apply(this,[]),this.posAnsList(),this.showList(),this.temporaryHide_=!1},loadList:function(i,s){void 0===i&&(i=this.element.id);var o=e.Autocompleter.getFieldLookupKey(this.element);this.listLoadAttempted_=!0;var n=e.RecordDataRequester.getOutputFieldRDR(i);if(n){var r=n.getFieldData(o);if(r?this.setListAndField(r[0],r[1],!0,!1):n.assignListData(),i!==this.element.id){var a=t(s),l=[s,"EQ",e.Autocompleter.getFieldVal(a)];n.addFieldsToUpdateList(i,this,l)}}},listIsEmpty:function(){return 0===this.options.array.length},getInitialSelectionIndex:function(){var t=-1;if(""==this.domCache.get("elemVal"))if(this.defaultSelectionIndex_)t=this.defaultSelectionIndex_;else{var i=this.constructorOpts_.defaultValue;if(void 0!==i){if(this.itemCodes_)for(var s=0,o=this.itemCodes_.length;s<o;++s)this.itemCodes_[s]===i&&(t=s);if(-1===t)for(var n=0,r=this.rawList_.length;n<r;++n)this.rawList_[n]===i&&(t=n)}t>=2*e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD&&(t=-1),this.defaultSelectionIndex_=t}return t},onFocus:function(){var t=this;!0===e.Autocompleter.completionOptionsScrollerClicked_?e.Autocompleter.completionOptionsScrollerClicked_=!1:(this.matchListItemsToField_=!1,this.listLoadAttempted_||!this.listIsEmpty()||this.element.comboField||this.loadList(),e.Autocompleter.Base.prototype.onFocus.apply(this),this.enabled_&&(this.listBelowField_=!0,this.focusInProgress_=!0,this.hideList(),this.element.shakeCanceled=!1,this.maybeShowList(),setTimeout((function(){t._disableListItemClick=!1}),10),this.index=this.getInitialSelectionIndex(),this.index>=0&&(this.setFieldToListValue(this.listItemValue(this.getCurrentEntry())),this.element.select(),this.render()),this.focusInProgress_=!1))},maybeShowList:function(){this.activate(),this.render();var t=!1;this.preventListFromShowing?t=!1:0==this.add_seqnum?t=this.entryCount>0:this.entryCount>1||!this.autoFill_?t=!0:1==this.entryCount&&(t=this.listItemValue(e.Autocompleter.listItemElements()[0])!=this.processedFieldVal_),1==t&&(this.posAnsList(),this.showList(),this.readSearchCount())},onFieldClick:function(){if(this.enabled_&&this.element.id===e.Autocompleter.currentAutoCompField_&&(!this.listShowing||this.matchListItemsToField_)){this.matchListItemsToField_=!1;var t=this.suggestionMode_;this.suggestionMode_=e.Autocompleter.NO_COMPLETION_SUGGESTIONS,this.maybeShowList(),this.suggestionMode_=t}},focusField:function(){this.element.focus()},listItemValue:function(t){var e=t.getAttribute("autocompRawListIndex");return this.rawList_[e]},fieldEventIsBigList:function(t){return t.ctrlKey&&t.keyCode===s.ENTER},handleSeeMoreItems:function(i){this.seeMoreItemsClicked_=!0,t("searchHint").style.display="none",this.listBelowField_=!1,this.getUpdatedChoices(),this.posAnsList(),this.seeMoreItemsClicked_=!1,this.splitAutocomp_=!1,e.Autocompleter.stopEvent(i)},findItemIndexByCode:function(t){for(var e=null,i=0,s=this.itemCodes_.length;i<s&&!e;++i)t==this.itemCodes_[i]&&(e=i);return e},selectByCode:function(t){var e=this.findItemIndexByCode(t);null!=e&&this.setFieldToListValue(this.rawList_[e])},readSearchCount:function(){var t=e.Autocompleter.Base.prototype.readSearchCount.apply(this);return!t&&this.entryCount>0&&(e.Autocompleter.screenReaderLog("Showing "+this.entryCount+" of "+this.rawList_.length+" items."),t=!0),t},activate:function(){this.changed=!1,this.hasFocus=!0,this.getUpdatedChoices()}};Object.assign(e.Autocompleter.Prefetch.prototype,o),o=null}},236:t=>{t.exports=function(t,e){"use strict";var i=e.PrototypeAPI.Class,s=e.jqueryLite.ui.keyCode;e.Autocompleter.Search=i.create();var o={urlToCache_:{},MAX_VALUE_SIZE_FOR_AUTOCOMP:25,EXPANDED_COUNT:500,constructor:e.Autocompleter.Search,superclass:e.Autocompleter.Base.prototype};Object.assign(e.Autocompleter.Search,o),o=null,Object.assign(e.Autocompleter.Search.prototype,e.Autocompleter.Base.prototype),e.Autocompleter.Search.prototype.className="Def.Autocompleter.Search";var n={lastAjaxRequest_:null,resultCache_:null,useResultCache_:!0,suggestionList_:null,showListOnFocusIfEmpty_:!1,showLoadingIndicator_:!0,initialize:function(i,s,o){if(o=Object.assign({partialChars:2,onHide:function(i,s){t("searchCount").style.display="none",t("moreResults").style.display="none",e.Autocompleter.Base.prototype.hideList.apply(this)}.bind(this),onShow:function(i,s){t("searchCount").style.display="block",t("moreResults").style.display="block",e.Autocompleter.Base.prototype.showList.apply(this)}.bind(this),onComplete:this.onComplete.bind(this)},o||{}),e.Autocompleter.Base.classInit_||e.Autocompleter.Base.classInit(),this.url=s,this.fhir=o.fhir,this.search=o.search||this.fhir&&this.fhir.search,this.defAutocompleterBaseInit(i,o),this.autocomp=o.autocomp,void 0===this.autocomp?this.autocomp=!0:this.autocomp||(this.options.frequency=31536e3),void 0===o.sort&&(o.sort=!0),null!==o.useResultCache&&!1===o.useResultCache&&(this.useResultCache_=!1),this.showListOnFocusIfEmpty_=o.showListOnFocusIfEmpty||!1,!1===o.showLoadingIndicator&&(this.showLoadingIndicator_=!1),this.showLoadingIndicator_){var n=this.element.parentElement,r=document.createElement("span");r.classList.add("loading-indicator-container"),n.replaceChild(r,this.element),r.appendChild(this.element),this.progressElement=document.createElement("progress"),r.appendChild(this.progressElement)}this.addEventListenerToElement("focus",this.onFocus.bind(this));var a=o.buttonID;if(this.buttonID=a,a&&"null"!==a){var l=document.getElementById(a);l.addEventListener("mousedown",this.buttonClick.bind(this)),l.addEventListener("keypress",this.buttonKeyPress.bind(this))}this.element.classList.add("search_field"),o.colHeaders&&(this.colHeaderHTML="<table><thead><th>"+o.colHeaders.join("</th><th>")+"</th></thead><tbody>")},detachFromDOM:function(){var t=this.element.parentElement;t.classList.contains("loading-indicator-container")&&t.parentElement.replaceChild(this.element,t),e.Autocompleter.Search.superclass.detachFromDOM.apply(this)},initItemToDataIndex:function(){this.itemToDataIndex_={}},dupForField:function(t){var i=this.dupDataReqForField(t),s=Object.clone(this.constructorOpts_);return s.dataRequester=i,new e.Autocompleter.Search(t,this.url,s)},getSearchStr:function(t){var i=e.Autocompleter;return i.LIST_ITEM_FIELD_SEP_REGEX||(i.LIST_ITEM_FIELD_SEP_REGEX=new RegExp(i.LIST_ITEM_FIELD_SEP,"g")),t||(t=this.getToken()),t.replace(i.LIST_ITEM_FIELD_SEP_REGEX," ").trimLeft()},runSearch:function(){this.lastAjaxRequest_&&this.lastAjaxRequest_.abort();var t=this.search;if(this.url||t){this.searchInProgress=!0,this.searchStartTime=(new Date).getTime();var i=this.getSearchStr(),s=null;this.useResultCache_&&(s=this.getCachedResults(i,this.getLoadCount(e.Autocompleter.Search.EXPANDED_COUNT)))&&this.onComplete(s,!0),s||(this.showLoadingIndicator_&&this.showProgressBar(),t?this.useSearchFn(i,e.Autocompleter.Search.EXPANDED_COUNT):this.urlSearch(i,e.Autocompleter.Search.EXPANDED_COUNT),this.changed=!1,this.hasFocus=!0)}},getLoadCount:function(t){return this.search||this.fhir?t+(this.multiSelect_&&e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD===t?this.getSelectedItems().length:0):this.multiSelect_&&t===e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD?t+this.getSelectedItems().length:t!==e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD?t:0},useSearchFn:function(t,e){var i=this;this.search(t,this.getLoadCount(e)).then((function(s){i.onComplete({results:s,requestedCount:e,searchStr:t})}),(function(t){console.log("FHIR search failed: "+t)}))},urlSearch:function(t,i){var s={};if(this.fhir)s.filter=t,s._format="application/json",s.count=this.getLoadCount(i);else{s.terms=t;var o=this.getLoadCount(i);o&&(s.maxList=o)}window._token&&(params.authenticity_token=window._token);var n={data:s,dataType:"json",complete:this.options.onComplete};this.lastAjaxRequest_=e.jqueryLite.ajax(this.url,n),this.lastAjaxRequest_.requestParamData_=s,this.lastAjaxRequest_.requestedCount=i},initResultCache:function(){this.resultCache_=this.url?e.Autocompleter.Search.urlToCache_[this.url]:null,this.resultCache_||(this.resultCache_=[],this.url&&(e.Autocompleter.Search.urlToCache_[this.url]=this.resultCache_))},getCachedResults:function(t,e){return this.resultCache_||this.initResultCache(),this.resultCache_[e]&&this.resultCache_[e][t]},storeCachedResults:function(t,e,i){this.resultCache_||this.initResultCache(),this.resultCache_[e]||(this.resultCache_[e]={}),this.resultCache_[e][t]=i},clearCachedResults:function(){this.resultCache_=[{},{}],e.Autocompleter.Search.urlToCache_[this.url]=this.resultCache_},setURL:function(t){this.url=t,this.initResultCache()},fieldEventIsBigList:function(t){return t.keyCode===s.ENTER&&(t.ctrlKey||!this.autocomp&&this.domCache.get("elemVal")!==this.processedFieldVal_&&""!==this.domCache.get("elemVal").trim())},buttonKeyPress:function(t){t.keyCode===s.ENTER&&this.runSearch()},processChoices:function(t,i){for(var s=[],o=Object.keys(t),n=0,r=o.length;n<r;++n){var a=o[n];this.multiSelect_&&this.isSelected(a)||s.push(a)}if(s.length>0&&!this.numHeadings_){var l=null,h=-1;if(this.suggestionMode_===e.Autocompleter.USE_STATISTICS?h=0:this.suggestionMode_===e.Autocompleter.SUGGEST_SHORTEST&&(h=this.pickBestMatch(s)),this.options.sort)h>-1&&(l=s[h],s[h]=""),s=s.sort(e.Autocompleter.Base.noCaseSort),h>-1&&(s[0]=l);else if(h>0){var c=s[0];s[0]=s[h],s[h]=c}s.length>i&&(s.length=i)}return[s,h>-1]},escapeHTML:function(t){return e.Autocompleter.Base.escapeAttribute(t).replace(/&lt;(\/)?span&gt;/g,"<$1span>")},buildUpdateHTML:function(t,i,s){var o,n,r,a,l,h,c,u=this.options.tableFormat;u?(n=this.colHeaderHTML||"<table><tbody>",r="</tbody></table>",a="<tr",l="><td>",h="</td><td>",c="</td></tr>"):(n="<ul>",r="</ul>",a="<li",l=">",h=e.Autocompleter.LIST_ITEM_FIELD_SEP,c="</li>"),o=n;for(var d=0,p=t.length;d<p;++d){for(var m=t[d],q=s[m],f=[],A=0,g=q.length;A<g;++A)f[A]=this.escapeHTML(q[A]);o+=a,0===d&&i&&(o+=' class="suggestion"'),u&&(o+=' data-fieldval="'+this.escapeHTML(m)+'"'),o+=l,o+=f.join(h),o+=c}return o+r},setSearchCountDiv:function(e,i,s){var o=t("searchCount"),n="";if(e>0||null===e){n=i+" of "+(null===e?"unknown":e)+" total";var r=(new Date).getTime()-this.searchStartTime+1e3*this.options.frequency+"",a=s+"";a.length<3&&(a+="&nbsp;");var l="; ";void 0!==s&&(l+=a+" bytes in "),l+=r+" ms",r.length<3&&(l+="&nbsp;"),n+=l,o.innerHTML=n,t("searchCount").style.display="block"}},createFieldVals:function(t){var i={},s=this.options.valueCols,o=e.Autocompleter.LIST_ITEM_FIELD_SEP;if(this.itemToDataIndex_={},s)var n=s.length;for(var r=0,a=t.length;r<a;++r){var l,h=t[r];if(s){l=[];for(var c=0;c<n;++c)l[c]=h[s[c]]}else l=h;var u=l.join(o);u=u.replace(/<\/?span>/g,""),this.itemToDataIndex_[u]=r,i[u]=h}return i},onComplete:function(i,s){var o,n=i.requestedCount||this.lastAjaxRequest_.requestedCount,r=this.getToken();this.trimmedElemVal=r.trim(),this.lastAjaxRequest_===i&&(this.lastAjaxRequest_=null),this.showLoadingIndicator_&&(null===(o=this.progressElement)||void 0===o||o.classList.remove("show"),clearTimeout(this.loadingAnnouncerTimeout));var a=!!i.results;if(200===i.status||a){if(a)var l=i.searchStr,h=i.requestedCount===e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD;else{var c=i.requestParamData_;this.fhir?(l=c.filter,h=c.count===this.getLoadCount(e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD)):(l=c.terms,h=void 0===c.maxList||c.maxList===this.getLoadCount(e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD))}var u=e.Autocompleter.Search;!s&&this.useResultCache_&&this.storeCachedResults(l,this.getLoadCount(n),i);var d=this.getSearchStr(r);if(h&&(d=d.substr(0,u.MAX_VALUE_SIZE_FOR_AUTOCOMP)),(this.hasFocus||this.refocusInProgress_)&&d===l){var p=a?i.results:i.responseJSON||JSON.parse(i.responseText);if(this.fhir){g=p.expansion.total,this.listExtraData_=null,this.itemCodes_=[],this.itemCodeSystems_=[],this.rawList_=[];var m=p.expansion.contains;if(m)for(var q=0,f=m.length;q<f;++q){var A=m[q];this.itemCodes_[q]=A.code,this.itemCodeSystems_[q]=A.system,this.rawList_[q]=[A.display]}}else{var g=p[0];this.itemCodes_=p[1],this.listExtraData_=p[2],this.itemCodeSystems_=p[4],this.rawList_=p[3]}var v=this.createFieldVals(this.rawList_),_=this.processChoices(v,n),y=_[0],S=_[1],I=this.buildUpdateHTML(y,S,v);this.updateChoices(I,!1);var C=y.length;this.setSearchCountDiv(g,C,a?void 0:i.responseText.length),t("moreResults").style.display=(C<g||null===g)&&h?"block":"none",this.showLoadingIndicator_&&this.loadingAnnounced&&0===g&&e.Autocompleter.screenReaderLog("No list items matched the field's value."),this.searchInProgress=!1,this.listBelowField_=this.entryCount<=e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD,this.posAnsList()}}},getItemExtraData:function(t){var e={};if(this.listExtraData_){var i=this.itemToDataIndex_[t];if(null!=i)for(var s=Object.keys(this.listExtraData_),o=0,n=s.length;o<n;++o){var r=s[o];e[r]=this.listExtraData_[r][i]}}return e},getItemData:function(t){t||(t=this.domCache.get("elemVal"));var e={text:t};if(""!=t&&this.itemToDataIndex_){var i=this.getItemCode(t);if(null!=i&&(e.code=i,this.itemCodeSystems_)){var s=this.itemToDataIndex_[t],o=this.itemCodeSystems_[s];o&&(e.code_system=o)}var n=this.getItemExtraData(t);Object.keys(n).length>0&&(e.data=n)}return e},show:function(){"hidden"!==this.listContainer.style.visibility&&""!==this.listContainer.style.visibility||this.options.onShow(this.element,this.update)},hide:function(){this.searchInProgress||e.Autocompleter.Search.superclass.hide.apply(this)},buttonClick:function(t){this.observer&&clearTimeout(this.observer),this.searchInProgress=!0,this.runSearch(),e.Autocompleter.stopEvent(t)},handleSeeMoreItems:function(t){this.multiSelect_&&""===this.domCache.get("elemVal")&&this.preFieldFillVal_&&this.setFieldVal(this.preFieldFillVal_,!1),this.buttonClick(t)},onFocus:function(){var t=this;!0===e.Autocompleter.completionOptionsScrollerClicked_?e.Autocompleter.completionOptionsScrollerClicked_=!1:(this.refocusInProgress_||(e.Autocompleter.screenReaderLog("Type to show matching list values."),this.hide(),this.rawList_=[]),e.Autocompleter.Base.prototype.onFocus.apply(this),this.hasFocus=!0,this.showListOnFocusIfEmpty_&&this.getUpdatedChoices(),setTimeout((function(){t._disableListItemClick=!1}),10))},onBlur:function(t){this.refocusInProgress_||e.Autocompleter.completionOptionsScrollerClicked_||(e.Autocompleter.Base.prototype.onBlur.apply(this,[t]),this.searchInProgress||(this.active=!1))},getUpdatedChoices:function(){if(this.lastAjaxRequest_&&this.lastAjaxRequest_.abort(),this.url||this.search){this.searchStartTime=(new Date).getTime();var t=null,i=e.Autocompleter.Search,s=this.getSearchStr();s.length>i.MAX_VALUE_SIZE_FOR_AUTOCOMP&&(s=s.substr(0,i.MAX_VALUE_SIZE_FOR_AUTOCOMP)),this.useResultCache_&&(t=this.getCachedResults(s,this.getLoadCount(e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD)))&&this.onComplete(t,!0),t||(this.showLoadingIndicator_&&this.showProgressBar(),this.search?this.useSearchFn(s,e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD):this.urlSearch(s,e.Autocompleter.Base.MAX_ITEMS_BELOW_FIELD))}},showProgressBar:function(){var t,i=this;null===(t=this.progressElement)||void 0===t||t.classList.add("show"),clearTimeout(this.loadingAnnouncerTimeout),this.loadingAnnounced=!1,this.loadingAnnouncerTimeout=setTimeout((function(){e.Autocompleter.screenReaderLog("A list is being loaded for the field."),i.loadingAnnounced=!0}),1500)},findSuggestions:function(){if(this.url){var t={field_val:this.getSearchStr(),suggest:1};window._token&&(params.authenticity_token=window._token);var i={data:t,complete:this.onFindSuggestionComplete.bind(this)};e.jqueryLite.ajax(this.url,i)}},onFindSuggestionComplete:function(t){if(200===t.status){var i=t.responseJSON||JSON.parse(t.responseText),s=[],o=!1;if(i[0].length>0){var n=i[1];this.suggestionList_=i;for(var r=this.domCache.get("elemVal").trim().toLowerCase(),a=e.Autocompleter.LIST_ITEM_FIELD_SEP,l=0,h=n.length;!o&&l<h;++l)n[l]=n[l].join(a),n[l].toLowerCase()===r&&(o=!0,this.observer&&clearTimeout(this.observer),this.acceptSuggestion(l));o||(s=n)}o||e.Autocompleter.Event.notifyObservers(this.element,"SUGGESTIONS",{suggestion_list:s})}},acceptSuggestion:function(t){var i=this.suggestionList_[0],s=this.suggestionList_[1],o=s[t],n=this.domCache.get("elemVal");s[t],this.setFieldVal(this.processedFieldVal_=o,!1),this.setMatchStatusIndicator(!0),this.fieldValIsListVal_=!0,this.propagateFieldChanges(),e.Autocompleter.Event.notifyObservers(this.element,"SUGGESTION_USED",{suggestion_used:o}),this.itemCodes_=i,this.itemToDataIndex_={},this.itemToDataIndex_[s[t]]=t,this.listExtraData_=this.suggestionList_[2],this.itemCodeSystems_=this.suggestionList_[3],this.listSelectionNotification(n,!0),this.element.focus()}};Object.assign(e.Autocompleter.Search.prototype,n),n=null}},384:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports=function(t){"use strict";var i=t.PrototypeAPI.Class.create({initialize:function(t,e,i,s){if(this.displayedProp=t.display||"text",this.scope=e,this.acOptions=t,s){this.pElem=i[0];var o=this.pElem.autocomp;o&&(o.destroy(),e.modelData=null,this.removeAutocompFunction(s.$formatters),this.removeAutocompFunction(s.$parsers));var n=t.hasOwnProperty("url")||t.fhir&&t.fhir.search;this.ac=n?this.searchList():this.prefetchList();var r=e.modelData;if(null!=r)if(this.ac.multiSelect_){for(var a=0,l=r.length;a<l;++a){var h=r[a][this.displayedProp];this.ac.storeSelectedItem(h,r[a].code),this.ac.addToSelectedArea(h)}this.ac.setFieldVal("",!1)}else"string"==typeof(h=r[this.displayedProp])?(this.ac.storeSelectedItem(h,r.code),this.ac.setFieldVal(h,!1)):this.ac.setFieldVal("",!1);this.parser=this.parser.bind(this),this.parser.fromAutocomp=!0,s.$parsers.push(this.parser),this.formatter=this.formatter.bind(this),this.formatter.fromAutocomp=!0,s.$formatters.push(this.formatter)}},parser:function(t){var e=this.scope.modelData;return void 0===e&&(e=null),e},formatter:function(t){var i="";return this.ac.multiSelect_?i="":("string"==typeof t?i=t:null!==t&&"object"===e(t)&&"string"==typeof t[this.displayedProp]&&(i=t[this.displayedProp]),i=i.trim()),this.ac.setFieldVal(i,!1),i},getPrefetchItemModelData:function(t,e){var i=e[t];return i||(""!=t?(i={_notOnList:!0})[this.displayedProp]=t:i=null),i},prefetchListSelHandler:function(t,e){var i=t.final_val;if(this.ac.multiSelect_){this.scope.modelData||(this.scope.modelData=[]);var s=this.scope.modelData;if(t.removed){for(var o=t.final_val,n=0,r=s.length;n<r;++n)if(o===s[n][this.displayedProp]){s.splice(n,1);break}}else if(t.on_list||!this.acOptions.matchListValue){var a=this.getPrefetchItemModelData(i,e);a&&s.push(a)}}else this.scope.modelData=this.getPrefetchItemModelData(i,e)},prefetchList:function(){var e=[],i={},s=this.acOptions,o=null,n=s.defaultValue,r=null,a=this.displayedProp;void 0===n||void 0!==this.scope.modelData&&null!==this.scope.modelData||("string"==typeof n?(o=a,r=n):r=n[o=Object.keys(n)[0]]);for(var l,h=null,c=0,u=s.listItems.length;c<u;++c){var d=s.listItems[c];l=d[a],e[c]=l;var p=l.trim();i[p]=d,o&&d[o].trim()===r&&(h=this.getPrefetchItemModelData(p,i))}var m=new t.Autocompleter.Prefetch(this.pElem,e,s);this.addNameAttr();var q=this;return this.updateListSelectionHandler((function(t){q.scope.$apply((function(){q.prefetchListSelHandler(t,i)}))})),null===h||this.scope.modelData||(this.scope.modelData=m.multiSelect_?[h]:h),m},getSearchItemModelData:function(t,e){var i;return""===t?i=null:(i=this.ac.getItemData(t),e||(i._notOnList=!0)),i},addNameAttr:function(){""===this.pElem.name&&(this.pElem.name=this.pElem.id)},searchListSelHandler:function(t){var e=t.final_val,i=t.on_list;if(this.ac.multiSelect_){this.scope.modelData||(this.scope.modelData=[]);var s=this.scope.modelData;if(t.removed){for(var o=t.final_val,n=0,r=s.length;n<r;++n)if(o===s[n].text){s.splice(n,1);break}}else if(t.on_list||!this.acOptions.matchListValue){var a=this.getSearchItemModelData(e,i);a&&s.push(a)}}else this.scope.modelData=this.getSearchItemModelData(e,i)},searchList:function(){var e=new t.Autocompleter.Search(this.pElem,this.acOptions.url,this.acOptions);this.addNameAttr();var i=this;return this.updateListSelectionHandler((function(t){i.scope.$apply((function(){i.searchListSelHandler(t)}))})),e},removeAutocompFunction:function(t){for(var e=0,i=t.length;e<i;++e)if(t[e].fromAutocomp){t.splice(e,1);break}},updateListSelectionHandler:function(e){var i=this.pElem,s=t.Observable.lookupKey(i),o=t.Autocompleter.directiveListEventHandlers,n=o[i.id];n&&t.Autocompleter.Event.removeCallback(s,"LIST_SEL",n),t.Autocompleter.Event.observeListSelections(s,e),o[i.id]=e}});t.Autocompleter.directiveListEventHandlers={},"undefined"!=typeof angular&&angular.module("autocompleteLhcMod",[]).directive("autocompleteLhc",[function(){return{restrict:"A",require:"?ngModel",scope:{modelData:"=ngModel",acOpts:"=autocompleteLhc"},link:function(t,e,s,o){o.$options||(o.$options={}),o.$options.updateOn="none",o.$options.updateOnDefault=!1,t.$watch("acOpts",(function(s){new i(s,t,e,o)}),!0)}}}])}},340:t=>{t.exports=function(t,e){"use strict";var i=t.Class,s=t.$;function o(t,e,i){if(t=s(t),1==arguments.length){var o=t.cumulativeOffset();window.scrollTo(o[0],o[1])}else t.scrollLeft=e,t.scrollTop=i;return t}e.Scroll=i.create(),Object.assign(Object.assign(e.Scroll.prototype,e.Base.prototype),{currentScrollPos:function(t){return this.element===window?document.viewport.getScrollOffsets():this.element===document.documentElement&&0===document.documentElement.scrollTop&&0===document.documentElement.scrollLeft?{left:document.body.scrollLeft,top:document.body.scrollTop}:{left:this.element.scrollLeft,top:this.element.scrollTop}},initialize:function(t){if(this.element=s(t),!this.element)throw e._elementDoesNotExistError;var i=this.currentScrollPos(t),o=Object.assign({x:0,y:0},arguments[1]||{}),n={x:i.left+o.x,y:i.top+o.y};this.start(n)},setup:function(){},update:function(t){var e=this.currentScrollPos(this.element),i=Math.round((this.options.x-e.left)*t+e.left),s=Math.round((this.options.y-e.top)*t+e.top);o(this.element,i,s),this.element===document.documentElement&&o(document.body,i,s)}})}},888:t=>{if(void 0===e)var e={};t.exports=function(t,e){"use strict";var i=e.PrototypeAPI.Class,s=e.PrototypeAPI.Enumerable,o=(e.PrototypeAPI.$A,e.PrototypeAPI.isString),n={_elementDoesNotExistError:{name:"ElementDoesNotExistError",message:"The specified DOM element does not exist, but is required for this effect to operate"},Transitions:{linear:function(t){return t},sinoidal:function(t){return-Math.cos(t*Math.PI)/2+.5},reverse:function(t){return 1-t},flicker:function(t){return(t=-Math.cos(t*Math.PI)/4+.75+Math.random()/4)>1?1:t},wobble:function(t){return-Math.cos(t*Math.PI*(9*t))/2+.5},pulse:function(t,e){return-Math.cos(t*((e||5)-.5)*2*Math.PI)/2+.5},spring:function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)},none:function(t){return 0},full:function(t){return 1}},DefaultOptions:{duration:1,fps:100,sync:!1,from:0,to:1,delay:0,queue:"parallel"}};n.DefaultOptions.transition=n.Transitions.sinoidal,n.ScopedQueue=i.create(s,{initialize:function(){this.effects=[],this.interval=null},_each:function(t){this.effects._each(t)},add:function(t){var e=(new Date).getTime();switch(o(t.options.queue)?t.options.queue:t.options.queue.position){case"front":this.effects.findAll((function(t){return"idle"==t.state})).each((function(e){e.startOn+=t.finishOn,e.finishOn+=t.finishOn}));break;case"with-last":e=this.effects.pluck("startOn").max()||e;break;case"end":e=this.effects.pluck("finishOn").max()||e}t.startOn+=e,t.finishOn+=e,(!t.options.queue.limit||this.effects.length<t.options.queue.limit)&&this.effects.push(t),this.interval||(this.interval=setInterval(this.loop.bind(this),15))},remove:function(t){for(var e;(e=this.effects.indexOf(t))>-1;)this.effects.splice(e,1);0==this.effects.length&&(clearInterval(this.interval),this.interval=null)},loop:function(){for(var t=(new Date).getTime(),e=0,i=this.effects.length;e<i;e++)this.effects[e]&&this.effects[e].loop(t)}}),n.Queues={instances:{},get:function(t){return o(t)?this.instances[t]||(this.instances[t]=new n.ScopedQueue):t}},n.Queue=n.Queues.get("global"),n.Base=i.create({position:null,start:function(t){t&&!1===t.transition&&(t.transition=n.Transitions.linear),this.options=Object.assign(Object.assign({},n.DefaultOptions),t||{}),this.currentFrame=0,this.state="idle",this.startOn=1e3*this.options.delay,this.finishOn=this.startOn+1e3*this.options.duration,this.fromToDelta=this.options.to-this.options.from,this.totalTime=this.finishOn-this.startOn,this.totalFrames=this.options.fps*this.options.duration,this.render=function(){function t(t,e){t.options[e+"Internal"]&&t.options[e+"Internal"](t),t.options[e]&&t.options[e](t)}return function(e){"idle"===this.state&&(this.state="running",t(this,"beforeSetup"),this.setup&&this.setup(),t(this,"afterSetup")),"running"===this.state&&(e=this.options.transition(e)*this.fromToDelta+this.options.from,this.position=e,t(this,"beforeUpdate"),this.update&&this.update(e),t(this,"afterUpdate"))}}(),this.event("beforeStart"),this.options.sync||n.Queues.get(o(this.options.queue)?"global":this.options.queue.scope).add(this)},loop:function(t){if(t>=this.startOn){if(t>=this.finishOn)return this.render(1),this.cancel(),this.event("beforeFinish"),this.finish&&this.finish(),void this.event("afterFinish");var e=(t-this.startOn)/this.totalTime,i=Math.round(e*this.totalFrames);i>this.currentFrame&&(this.render(e),this.currentFrame=i)}},cancel:function(){this.options.sync||n.Queues.get(o(this.options.queue)?"global":this.options.queue.scope).remove(this),this.state="finished"},event:function(t){this.options[t+"Internal"]&&this.options[t+"Internal"](this),this.options[t]&&this.options[t](this)},inspect:function(){var t=$H();for(property in this)Object.isFunction(this[property])||t.set(property,this[property]);return"#<Effect:"+t.inspect()+",options:"+$H(this.options).inspect()+">"}}),n.Move=i.create(n.Base,{initialize:function(e){if(this.element=t(e),!this.element)throw n._elementDoesNotExistError;var i=Object.assign({x:0,y:0,mode:"relative"},arguments[1]||{});this.start(i)},setup:function(){e.PrototypeAPI.makePositioned(this.element);var t=e.PrototypeAPI;this.originalLeft=parseFloat(t.getStyle(this.element,"left")||"0"),this.originalTop=parseFloat(t.getStyle(this.element,"top")||"0"),"absolute"==this.options.mode&&(this.options.x=this.options.x-this.originalLeft,this.options.y=this.options.y-this.originalTop)},update:function(t){e.PrototypeAPI.setStyle(this.element,{left:Math.round(this.options.x*t+this.originalLeft)+"px",top:Math.round(this.options.y*t+this.originalTop)+"px"})}}),n.Shake=function(i){i=t(i);var s=Object.assign({distance:20,duration:.5},arguments[1]||{}),o=parseFloat(s.distance),r=parseFloat(s.duration)/10,a=e.jqueryLite.getElementOffset(i),l=e.PrototypeAPI,h={top:a.top,left:a.left};return new n.Move(i,{x:o,y:0,duration:r,afterFinishInternal:function(t){new n.Move(t.element,{x:2*-o,y:0,duration:2*r,afterFinishInternal:function(t){new n.Move(t.element,{x:2*o,y:0,duration:2*r,afterFinishInternal:function(t){new n.Move(t.element,{x:2*-o,y:0,duration:2*r,afterFinishInternal:function(t){new n.Move(t.element,{x:2*o,y:0,duration:2*r,afterFinishInternal:function(t){new n.Move(t.element,{x:-o,y:0,duration:r,afterFinishInternal:function(t){l.setStyle(l.undoPositioned(t.element),h)}})}})}})}})}})}})},e.Effect=n}},676:t=>{t.exports=function(t,e){"use strict";var i={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|mouse(?:down|up|over|move|out))$/},s={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0};e.Event={},e.Event.simulate=function(e,o){var n,r=Object.assign(s,arguments[2]||{}),a=null;for(var l in e=t(e),i)if(i[l].test(o)){a=l;break}if(!a)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");return document.createEvent?(n=document.createEvent(a),"HTMLEvents"==a?n.initEvent(o,r.bubbles,r.cancelable):n.initMouseEvent(o,r.bubbles,r.cancelable,document.defaultView,r.button,r.pointerX,r.pointerY,r.pointerX,r.pointerY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,e),e.dispatchEvent(n)):(r.clientX=r.pointerX,r.clientY=r.pointerY,n=Object.assign(document.createEventObject(),r),e.fireEvent("on"+o,n)),e}}},648:t=>{if(void 0===e)var e={};t.exports=function(t,e){"use strict";e.FieldAlarms={setOffAlarm:function(t){void 0===this.bonk&&(this.bonk=new Audio(this.soundData_)),this.bonk.readyState>=2&&(this.bonk.currentTime=0,0!==this.bonk.currentTime&&(this.bonk.src=this.bonk.src)),this.bonk.play(),e.Effect.Shake(t.id,5)},cancelAlarm:function(t){t.shakeCanceled=!0,this.bonk.pause(),this.bonk.currentTime=0}}}},196:(t,e,i)=>{var s={};s.PrototypeAPI=i(256),i(180),i(668)(s),i(888)(s.PrototypeAPI.$,s),i(340)(s.PrototypeAPI,s.Effect),i(676)(s.PrototypeAPI.$,s),i(592)(s),i(512)(s),i(508)(s.PrototypeAPI.$,s),i(648)(s.PrototypeAPI.$,s),i(612)(s),i(736)(s.PrototypeAPI.$,s),i(880)(s.PrototypeAPI.$,s),i(236)(s.PrototypeAPI.$,s),i(800)(s.PrototypeAPI.$,s),i(384)(s),t.exports=s},668:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}t.exports=function(t){t.jqueryLite=function(){"use strict";return{ui:{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},getElementOffset:function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument.defaultView;return{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}},ajax:function(t,i){t.startsWith("/")&&(t=window.location.origin+t);var s,o,n=new URL(t);if(i.data)for(var r=0,a=Object.entries(i.data);r<a.length;r++){var l=(s=a[r],o=2,function(t){if(Array.isArray(t))return t}(s)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var s,o,n,r,a=[],l=!0,h=!1;try{if(n=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(s=n.call(i)).done)&&(a.push(s.value),a.length!==e);l=!0);}catch(t){h=!0,o=t}finally{try{if(!l&&null!=i.return&&(r=i.return(),Object(r)!==r))return}finally{if(h)throw o}}return a}}(s,o)||function(t,i){if(t){if("string"==typeof t)return e(t,i);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?e(t,i):void 0}}(s,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=l[0],c=l[1];n.searchParams.set(h,c)}var u=new XMLHttpRequest;return u.open("GET",n.toString(),!0),u.onreadystatechange=function(){4===u.readyState&&i.complete(u)},u.send(),u}}}()}},592:t=>{if(void 0===e)var e={};t.exports=function(t){"use strict";t.Observable={callbacks_:null,notifyObservers:function(t,e,i){null!==this.callbacks_&&(i.field_id=t?t.id:null,setTimeout(function(){var s=this.callbacks_[e];if(void 0!==s){if(null!==t)var o=s[this.lookupKey(t)];for(var n=[o,s.null],r=0,a=n.length;r<a;++r){var l=n[r];if(void 0!==l)for(var h=0,c=l.length;h<c;++h)l[h].call(this,i)}}}.bind(this)))},lookupKey:function(t){return t.name||t.id},storeCallback:function(t,e,i){var s=this;null===this.callbacks_&&(this.callbacks_={});var o=this.callbacks_[e];void 0===o&&(o={},this.callbacks_[e]=o);var n=o[t];return void 0===n&&(n=[],o[t]=n),n.push(i),function(){s.removeCallback(t,e,i)}},removeCallback:function(t,e,i){if(null!==this.callbacks_){var s=this.callbacks_[e];if(void 0!==s){var o=s[t];if(void 0!==o){var n=o.indexOf(i);n>-1&&o.splice(n,1)}}}}}}},180:()=>{"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var s=arguments[i];if(null!=s)for(var o in s)s.hasOwnProperty(o)&&(e[o]=s[o])}return e}),String.prototype.trimLeft=function(){for(var t=-1;this.charCodeAt(++t)<33;);return this.slice(t,this.length)}},256:t=>{if(void 0===e)var e={};e.PrototypeAPI=function(){"use strict";var t={};function i(t){if(!t)return[];if("toArray"in Object(t))return t.toArray();for(var e=t.length||0,i=new Array(e);e--;)i[e]=t[e];return i}function s(t){var i=t;return e.PrototypeAPI.isString(t)&&(i=document.getElementById(t)),i}var o,n,r=Object.prototype.toString,a=(o="undefined"!=typeof navigator&&navigator.userAgent,n="[object Opera]"==Object.prototype.toString.call(window.opera),{IE:!!window.attachEvent&&!n,Opera:n,WebKit:o&&o.indexOf("AppleWebKit/")>-1,Gecko:o&&o.indexOf("Gecko")>-1&&-1===o.indexOf("KHTML"),MobileSafari:o&&/Apple.*Mobile/.test(o)});function l(t){return"[object Function]"===r.call(t)}function h(t){return t}var c=function(){var t=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();function e(){}return{create:function(){var t=null,s=i(arguments);function o(){this.initialize.apply(this,arguments)}l(s[0])&&(t=s.shift()),function(t,e){for(var i in e)t[i]=e[i]}(o,c.Methods),o.superclass=t,o.subclasses=[],t&&(e.prototype=t.prototype,o.prototype=new e,t.subclasses.push(o));for(var n=0,r=s.length;n<r;n++)o.addMethods(s[n]);return o.prototype.initialize||(o.prototype.initialize=function(){}),o.prototype.constructor=o,o},Methods:{addMethods:function(e){var i,s,o=this.superclass&&this.superclass.prototype,n=Object.keys(e);t&&(e.toString!=Object.prototype.toString&&n.push("toString"),e.valueOf!=Object.prototype.valueOf&&n.push("valueOf"));for(var r=0,a=n.length;r<a;r++){var h=n[r],c=e[h];if(o&&l(c)&&"$super"==(i=c,void 0,s=i.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(","),1!=s.length||s[0]?s:[])[0]){var u=c;c=function(t){return function(){return o[t].apply(this,arguments)}}(h).wrap(u),c.valueOf=function(t){return function(){return t.valueOf.call(t)}}(u),c.toString=function(t){return function(){return t.toString.call(t)}}(u)}this.prototype[h]=c}return this}}}}(),u=function(){function s(e,i){e=e||h;var s=!0;return this.each((function(o,n){if(!(s=s&&!!e.call(i,o,n,this)))throw t}),this),s}function o(e,i){e=e||h;var s=!1;return this.each((function(o,n){if(s=!!e.call(i,o,n,this))throw t}),this),s}function n(t,e){t=t||h;var i=[];return this.each((function(s,o){i.push(t.call(e,s,o,this))}),this),i}function r(e,i){var s;return this.each((function(o,n){if(e.call(i,o,n,this))throw s=o,t}),this),s}function a(t,e){var i=[];return this.each((function(s,o){t.call(e,s,o,this)&&i.push(s)}),this),i}function c(e){if(l(this.indexOf)&&-1!=this.indexOf(e))return!0;var i=!1;return this.each((function(s){if(s==e)throw i=!0,t})),i}function u(){return this.map()}return{each:function(e,i){try{this._each(e,i)}catch(e){if(e!=t)throw e}return this},eachSlice:function(t,e,i){var s=-t,o=[],n=this.toArray();if(t<1)return n;for(;(s+=t)<n.length;)o.push(n.slice(s,s+t));return o.collect(e,i)},all:s,every:s,any:o,some:o,collect:n,map:n,detect:r,findAll:a,select:a,filter:a,grep:function(t,i,s){i=i||h;var o=[];return e.PrototypeAPI.isString(t)&&(t=new RegExp(RegExp.escape(t))),this.each((function(e,n){t.match(e)&&o.push(i.call(s,e,n,this))}),this),o},include:c,member:c,inGroupsOf:function(t,e){return e=Object.isUndefined(e)?null:e,this.eachSlice(t,(function(i){for(;i.length<t;)i.push(e);return i}))},inject:function(t,e,i){return this.each((function(s,o){t=e.call(i,t,s,o,this)}),this),t},invoke:function(t){var e=i(arguments).slice(1);return this.map((function(i){return i[t].apply(i,e)}))},max:function(t,e){var i;return t=t||h,this.each((function(s,o){s=t.call(e,s,o,this),(null==i||s>=i)&&(i=s)}),this),i},min:function(t,e){var i;return t=t||h,this.each((function(s,o){s=t.call(e,s,o,this),(null==i||s<i)&&(i=s)}),this),i},partition:function(t,e){t=t||h;var i=[],s=[];return this.each((function(o,n){(t.call(e,o,n,this)?i:s).push(o)}),this),[i,s]},pluck:function(t){var e=[];return this.each((function(i){e.push(i[t])})),e},reject:function(t,e){var i=[];return this.each((function(s,o){t.call(e,s,o,this)||i.push(s)}),this),i},sortBy:function(t,e){return this.map((function(i,s){return{value:i,criteria:t.call(e,i,s,this)}}),this).sort((function(t,e){var i=t.criteria,s=e.criteria;return i<s?-1:i>s?1:0})).pluck("value")},toArray:u,entries:u,zip:function(){var t=i(arguments),e=[this].concat(t).map(i);return this.map((function(t,i){for(var s=[],o=0,n=e.length;o<n;++o)s.push(e[o][i]);return s}))},size:function(){return this.toArray().length},inspect:function(){return"#<Enumerable:"+this.toArray().inspect()+">"},find:r}}();function d(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var p={setOpacity:function(t,e){return 1==e||""===e?e="":e<1e-5&&(e=0),(t=s(t)).style.opacity=e,t},setStyle:function(t,i){var o=(t=s(t)).style;if(e.PrototypeAPI.isString(i)){if(o.cssText+=";"+i,i.include("opacity")){var n=i.match(/opacity:\s*(\d?\.?\d*)/)[1];e.PrototypeAPI.setOpacity(t,n)}return t}for(var r in i)if("opacity"===r)e.PrototypeAPI.setOpacity(t,i[r]);else{var a=i[r];"float"!==r&&"cssFloat"!==r||(r=void 0===o.styleFloat?"cssFloat":"styleFloat"),o[r]=a}return t},getStyle:function(t,e){var i=(t=s(t)).style[e];if(!i||"auto"===i){var o=document.defaultView.getComputedStyle(t,null);i=o?o[e]:null}return"opacity"===e?i?parseFloat(i):1:"auto"===i?null:i},makePositioned:function(t){t=s(t);var i=e.PrototypeAPI.getStyle(t,"position"),o={};return"static"!==i&&i||(o.position="relative",e.PrototypeAPI.Browser.Opera&&(o.top=0,o.left=0),e.PrototypeAPI.setStyle(t,o),t.dataset.prototypeMadePositioned=""),t},undoPositioned:function(t){return"prototypeMadePositioned"in(t=s(t)).dataset&&(delete t.dataset.prototypeMadePositioned,e.PrototypeAPI.setStyle(t,{position:"",top:"",bottom:"",left:"",right:""})),t}};return{$:s,Class:c,Enumerable:u,isString:function(t){return"[object String]"===r.call(t)},isArray:function(t){return"[object Array]"===r.call(t)},Browser:a,parseQuery:function(t){var e=t.trim().match(/([^?#]*)(#.*)?$/);if(!e)return{};for(var i=e[1].split("&"),s=0,o=i.length;s<o;++s){var n=i[s];if((n=n.split("="))[0]){var r=decodeURIComponent(n.shift()),a=n.length>1?n.join("="):n[0];null!=a&&(a=a.gsub("+"," "),a=decodeURIComponent(a)),r in hash?(this.isArray(hash[r])||(hash[r]=[hash[r]]),hash[r].push(a)):hash[r]=a}}return{}},escapeHTML:d,escapeAttribute:d,getStyle:p.getStyle,setStyle:p.setStyle,makePositioned:p.makePositioned,undoPositioned:p.undoPositioned,$A:i}}(),t.exports=e.PrototypeAPI},508:t=>{if(void 0===e)var e={};t.exports=function(t,e){"use strict";var i=e.PrototypeAPI.Class;e.RecordDataRequester=i.create();var s={formField_:null,codeField_:null,dataURL_:null,dataReqInput_:null,dataReqOutput_:null,inputFieldsHash_:null,outputFieldsHash_:null,noPriorDataReq_:!0,latestPendingAjaxRequest_:null,lastFieldVal_:null,lastDataHash_:null,outputToSameGroup_:null,autoCompUpdateList_:null,initialize:function(t,e,i,s,o){this.formField_=t,this.dataURL_=e,this.dataReqInput_=i,this.dataReqOutput_=s,this.outputToSameGroup_=o,this.setOutputNamesToRDRNames(t,s)},setOutputNamesToRDRNames:function(t,i){for(var s=e.Autocompleter.getFieldLookupKey(t),o=e.RecordDataRequester.outputFieldNameToRDRFieldName_,n=0,r=i.length;n<r;++n)o[i[n]]=s},dupForField:function(i){return new e.RecordDataRequester(t(i),this.dataURL_,this.dataReqInput_,this.dataReqOutput_,this.outputToSameGroup_)},requestData:function(t){this.noPriorDataReq_=!1,this.inputFieldsHash_||this.initFieldsHash(),this.dataRequestOptions_||(this.dataRequestOptions_={}),t||this.clearDataOutputFields(),this.dataRequestOptions_.complete=t?this.onDataReqCompleteForListData.bind(this):this.onDataReqComplete.bind(this),this.dataRequestOptions_.data=this.buildParameters(),this.latestPendingAjaxRequest_=e.jqueryLite.ajax(this.dataURL_,this.dataRequestOptions_),this.lastFieldVal_=e.Autocompleter.getFieldVal(this.formField_)},assignListData:function(){this.noPriorDataReq_&&""!==e.Autocompleter.getFieldVal(this.formField_)&&this.requestData(!0)},getFieldData:function(t){var i=null;return this.lastDataHash_&&e.Autocompleter.getFieldVal(this.formField_)===this.lastFieldVal_&&(i=this.lastDataHash_[t]),i},onDataReqComplete:function(t){if(this.latestPendingAjaxRequest_===t){this.lastFieldVal_=e.Autocompleter.getFieldVal(this.formField_);var i=t.responseJSON||JSON.parse(t.responseText);this.lastDataHash_=i,this.assignDataToFields(i),this.processUpdateList(i),this.latestPendingAjaxRequest_=null}},onDataReqCompleteForListData:function(t){if(this.latestPendingAjaxRequest_===t){var e=t.responseJSON||JSON.parse(t.responseText);this.lastDataHash_=e,this.assignDataToFields(e,!0),this.processUpdateList(e),this.latestPendingAjaxRequest_=null}},clearDataOutputFields:function(){this.inputFieldsHash_||this.initFieldsHash();for(var t=[],i=this.getOutputFieldsHash(),s=0,o=this.dataReqOutput_.length;s<o;++s){var n=i[this.dataReqOutput_[s]];if(void 0!==n)for(var r=0,a=n.length;r<a;++r){var l=n[r];l.autocomp&&l.autocomp.setListAndField?l.autocomp.setListAndField([]):(e.Autocompleter.setFieldVal(l,"",!1),t.push(l))}}e.Autocompleter.Event.notifyObservers(null,"RDR_CLEARING",t)},addFieldsToUpdateList:function(t,e,i){null===this.autoCompUpdateList_&&(this.autoCompUpdateList_={}),null===this.autoCompUpdateList_[t]&&(this.autoCompUpdateList_[t]={}),null===this.autoCompUpdateList_[t][i]?this.autoCompUpdateList_[t][i]=[e]:this.autoCompUpdateList_[t][i].push(e)},processUpdateList:function(i){if(null!==this.autoCompUpdateList_)for(var s in i){var o=i[s],n=o instanceof Array&&o.length>0;if(null!==this.autoCompUpdateList_[s])for(var r in this.autoCompUpdateList_[s]){var a=r.split(","),l=t(a[0]),h=e.Autocompleter.getFieldVal(l);if("EQ"===a[1]&&h===a[2]||"NE"===a[1]&&h!==a[2])for(var c=this.autoCompUpdateList_[s][r],u=0,d=c.length;u<d;u++)c[u].element&&(n?o[0]instanceof Array?c[u].setListAndField(o[0],o[1]):c[u].setListAndField(o):null===o&&c[u].setListAndField([],[]))}}},initFieldsHash:function(){this.inputFieldsHash_={};var t=e.Autocompleter;if(this.dataReqInput_)for(var i=this.dataReqInput_,s=0,o=i.length;s<o;++s){var n=i[s],r=t.findRelatedFields(this.formField_,n);1===r.length&&(this.inputFieldsHash_[n]=r[0])}this.outputToSameGroup_&&(this.outputFieldsHash_=this.constructOutputFieldsHash())},getOutputFieldsHash:function(){return this.outputToSameGroup_?this.outputFieldsHash_:this.constructOutputFieldsHash()},constructOutputFieldsHash:function(){for(var t={},i=this.dataReqOutput_,s=e.Autocompleter,o=0,n=i.length;o<n;++o){var r=i[o],a=s.findRelatedFields(this.formField_,r);a.length>0&&(t[r]=a)}return t},assignDataToFields:function(t,i){this.inputFieldsHash_||this.initFieldsHash();var s=[],o={},n=this.getOutputFieldsHash(),r=e.Autocompleter;for(var a in t){var l=n[a];if(void 0!==l)for(var h=0,c=l.length;h<c;++h){var u=l[h],d=t[a];if(Array.isArray(d)){if(null!==u.autocomp){var p=r.getFieldLookupKey(u);if(this.setOutputNamesToRDRNames(this.formField_,[p]),d.length>0&&Array.isArray(d[0])?(d[2]&&u.autocomp.initHeadings(d[2]),i?u.autocomp.setList(d[0],d[1]):u.autocomp.setListAndField(d[0],d[1])):i?u.autocomp.setList(d):u.autocomp.setListAndField(d),null!==this.autoCompUpdateList_&&null!==this.autoCompUpdateList_[p]){var m={};m[p]=d,this.processUpdateList(m)}}}else i||(void 0!==u.comboField?u.comboField.mimicField(d,this.formField_.id):(e.Autocompleter.setFieldVal(u,d,!1),s.push(u),o[u.id]=d))}}e.Autocompleter.Event.notifyObservers(null,"RDR_ASSIGNMENT",{updatedFields:s,updatedFieldIDToVal:o,listField:this.formField_})},buildParameters:function(){var t={};this.inputFieldsHash_||this.initFieldsHash();var i=this.formField_.autocomp.getSelectedCodes()[0];if(null!=i?t.code_val=i:t.field_val=e.Autocompleter.getFieldVal(this.formField_),this.dataReqInput_)for(var s=0,o=this.dataReqInput_.length;s<o;++s){var n=this.dataReqInput_[s],r=this.inputFieldsHash_[n];if(null==r)throw"Could not find field for "+n;t[n]=e.Autocompleter.getFieldVal(r)}return t.authenticity_token=window._token||"",t}};Object.assign(e.RecordDataRequester.prototype,s),s=null,Object.assign(e.RecordDataRequester,{outputFieldNameToRDRFieldName_:{},getOutputFieldRDR:function(i){var s=null,o=t(i),n=e.Autocompleter.getFieldLookupKey(o),r=this.outputFieldNameToRDRFieldName_[n],a=e.Autocompleter.findRelatedFields(o,r);if(1===a.length){var l=a[0].autocomp;l&&(s=l.recDataRequester_)}return s}})}},512:t=>{t.exports=function(t){"use strict";t.ScreenReaderLog=function(t){if(void 0===t){for(var e="reader_log",i=(t=e,1);document.getElementById(t);)t=e+ ++i;this.logElement_=document.createElement("div"),this.logElement_.setAttribute("id",t),document.body.appendChild(this.logElement_)}else this.logElement_=document.getElementById(t);this.logElement_.setAttribute("aria-live","assertive"),this.logElement_.setAttribute("aria-relevant","additions"),this.logElement_.setAttribute("role","log"),this.logElement_.setAttribute("class","screen_reader_only")},t.ScreenReaderLog.prototype={add:function(t){var e=document.createElement("p");e.appendChild(document.createTextNode(t)),this.logElement_.appendChild(e)}},t.ScreenReaderLog.add=function(e){this.log_||(this.log_=new t.ScreenReaderLog("reader_log")),this.log_.add(e)}}}},e={},i=function i(s){var o=e[s];if(void 0!==o)return o.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,i),n.exports}(196);Def=i})();